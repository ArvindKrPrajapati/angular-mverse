<app-header></app-header>

<div class="bg">
    <div class="container-fluid">
        <br>
        <div class="row">
            <app-loading *ngIf="loading"></app-loading>

            <div *ngIf="!loading" class="col p-3">
                <div class="row ">
                    <div class="col-12 col-md-8 order-md-1">
                        <section class="p-2">
                            <div [style.background]="'url('+imgUrl+data.backdrop_path+') 0 0/100% 100% no-repeat'"
                                style=" border-radius: 10px;" class="bg-img"></div>
                            <div class="info">
                                <img style="display: block; border-radius:10px; background-color: #072e3f;"
                                    class="poster" [src]="imgUrl+data.poster_path" />
                                <div class="title">
                                    <b>{{data.title}}</b>
                                    <p>Rating : {{data.vote_average}} / 10</p>
                                    <p>Language : {{data.original_language}}</p>
                                </div>
                            </div>
                        </section>

                        <section class="text-white p-5 pb-0" style="display: flex; justify-content: space-between;">
                            <div>
                                <h5>{{data.release_date}}</h5>
                                <p>Release date</p>
                            </div>
                            <div>
                                <a *ngIf="type=='movie'" [routerLink]="['/'+type+'/embed',id]">
                                    <svg fill="wheat" height="50px" width="50px" version="1.1" x="0px" y="0px"
                                        viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;"
                                        xml:space="preserve">
                                        <g>
                                            <g>
                                                <path d="M256,0C114.511,0,0,114.497,0,256c0,141.49,114.495,256,256,256c141.49,0,256-114.497,256-256C512,114.51,397.503,0,256,0
                z M348.238,284.418l-120.294,69.507c-10.148,5.864-22.661,5.874-32.826,0.009c-10.158-5.862-16.415-16.699-16.415-28.426V186.493
                c0-11.728,6.258-22.564,16.415-28.426c5.076-2.93,10.741-4.395,16.406-4.395c5.67,0,11.341,1.468,16.42,4.402l120.295,69.507
                c10.149,5.864,16.4,16.696,16.4,28.418C364.639,267.722,358.387,278.553,348.238,284.418z" />
                                            </g>
                                        </g>
                                        <g></g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g>
                                        </g>
                                        <g></g>
                                        <g></g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                    </svg>
                                </a>

                                <a *ngIf="type=='tv'" [routerLink]="['/'+type+'/embed',id,s,e]">
                                    <svg fill="wheat" height="50px" width="50px" version="1.1" x="0px" y="0px"
                                        viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;"
                                        xml:space="preserve">
                                        <g>
                                            <g>
                                                <path d="M256,0C114.511,0,0,114.497,0,256c0,141.49,114.495,256,256,256c141.49,0,256-114.497,256-256C512,114.51,397.503,0,256,0
                z M348.238,284.418l-120.294,69.507c-10.148,5.864-22.661,5.874-32.826,0.009c-10.158-5.862-16.415-16.699-16.415-28.426V186.493
                c0-11.728,6.258-22.564,16.415-28.426c5.076-2.93,10.741-4.395,16.406-4.395c5.67,0,11.341,1.468,16.42,4.402l120.295,69.507
                c10.149,5.864,16.4,16.696,16.4,28.418C364.639,267.722,358.387,278.553,348.238,284.418z" />
                                            </g>
                                        </g>
                                        <g></g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g>
                                        </g>
                                        <g></g>
                                        <g></g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                        <g> </g>
                                    </svg>
                                </a>
                            </div>


                        </section>

                        <section class="p-4">
                            <!-- overview -->
                            <b class="overview">Overview</b>
                            <p class="text-white">{{data.overview}}</p>
                            <!-- genres -->
                            <b class="overview">Genres</b>
                            <div class="row">
                                <div *ngFor="let g of data.genres" class="col-4 mb-1 mt-1">
                                    <div style="background-color:wheat;font-weight: bold; padding: 10px; border-radius: 30px; font-size: 0.8em;text-align: center;"
                                        class="text-dark">
                                        {{g.name}}
                                    </div>
                                </div>
                            </div>
                            <!-- prodution companies -->
                            <b class="overview">Production Companies</b>
                            <div class="row">
                                <div *ngFor="let p of data.production_companies" class="col mt-1 mb-1">
                                    <div style="height:200px;flex-direction: column;overflow: hidden; background-color: #02141d ; border-radius: 10px;"
                                        class="text-white d-flex justify-content-center align-items-center p-3">
                                        <img style="width:60%;max-height:150px ;" [src]="imgUrl+p.logo_path" />
                                        <br>
                                        {{p.name}}
                                    </div>
                                </div>
                            </div>
                            <!-- credits -->
                            <b class="overview">Movie Cast</b>
                            <div class="row">
                                <div *ngFor="let cast of credits" class="col-md-2 col-6 mt-1 mb-1">
                                    <div style="background-color:#02141d ;border-radius: 10px; overflow: hidden;">
                                        <img style="width:100%;height:150px ;" [src]="imgUrl+cast.profile_path" />
                                        <div class="text-white p-2">
                                        <b>{{cast.name}}</b><br>
                                        <small>{{cast.known_for_department}}</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>

                    <div class="col-12 col-md-4 text-white order-md-2">
                        <!-- recomendation -->
                        <b class="overview">Recomendated</b>
                        <section class="d-flex" style="overflow: scroll;">
                            <div *ngIf="recom_loading">
                                loading...
                            </div>
                            <div *ngFor="let d of recom">
                                <app-items [data]="d"></app-items>
                            </div>
                        </section>
                        <!-- similar -->
                        <b class="overview">Similar Movies</b>
                        <section class="d-flex" style="overflow: scroll;">
                            <div *ngIf="similar_loading">
                                loading....
                            </div>
                            <div *ngFor="let d of similar">
                                <app-items [data]="d"></app-items>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>